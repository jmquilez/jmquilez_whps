<!--<div class="container-fluid" style="margin:0px !important;">-->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://cdnjs.cloudflare.com/ajax/libs/video.js/5.10.2/alt/video-js-cdn.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/video.js/5.10.2/video.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/videojs-contrib-hls/3.0.2/videojs-contrib-hls.js"></script>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<link
    href="https://fonts.googleapis.com/css2?family=Architects+Daughter&family=Asap&family=Cairo:wght@300&family=Comfortaa&family=Lobster&family=Outfit:wght@700&family=Praise&family=Varela+Round&display=swap"
    rel="stylesheet">

<script>
    function createIt(id, url) {
        function getOS() {
  var userAgent = window.navigator.userAgent,
      platform = window.navigator.platform,
      macosPlatforms = ['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'],
      windowsPlatforms = ['Win32', 'Win64', 'Windows', 'WinCE'],
      iosPlatforms = ['iPhone', 'iPad', 'iPod'],
      os = null;

  if (macosPlatforms.indexOf(platform) !== -1) {
    os = 'Mac OS';
  } else if (iosPlatforms.indexOf(platform) !== -1) {
    os = 'iOS';
    /*video = <video id="vids"
                 controls="true"
                playsinline autoplay muted loop
                preload="auto" type='video/{{this.extension}}; codecs="avc1.42E01E, mp4a.40.2"'
                style="object-fit: contain; width: 100%; height: 15vw; margin-bottom: 10px;" >
                <source src={{url}} type="video/{{this.extension}}">
        </video>*/
  } else if (windowsPlatforms.indexOf(platform) !== -1) {
    os = 'Windows';
  } else if (/Android/.test(userAgent)) {
    os = 'Android';
  } else if (!os && /Linux/.test(platform)) {
    os = 'Linux';
  }

  return os;
}


        if (Hls.isSupported()) {
            
            var video = document.getElementById(id);
            alert(getOS(video));
            var vids = videojs(id);
            var hls = new Hls();
            hls.loadSource(url);
            hls.attachMedia(video);
            hls.on(Hls.Events.MANIFEST_PARSED, function () {
                video.play();
            });
        }
    }
</script>
<div class="container align-items-center justify-content-center"
    style="padding: 1px; margin-bottom: 30px; margin-top: 30px; margin-right:auto; margin-left:auto;">
    <div class="card border-info mb-3" style="max-width: 100rem; padding: 1px; margin-top: 20px;">
        <div class="card-header" style="text-align: center; font-family: 'Lobster', cursive; font-size: 60px;">
            {{name}}</div>
        <div class="card-body">
            <h4 class="card-title" style="text-align: center; font-family: 'Cairo', sans-serif;">{{user_name}}</h4>
            <p class="card-text" style="font-family: 'Comfortaa', cursive;">Quisque nec dolor et ex suscipit
                vulputate. Nulla condimentum tincidunt mollis. Proin et eros sit amet augue dapibus feugiat. Mauris
                iaculis, lorem vel blandit dapibus, ex risus placerat turpis, non congue libero urna sit amet nisl.
                Sed a magna pulvinar, auctor est quis, egestas quam. Praesent rhoncus leo quis interdum facilisis.
                Aliquam scelerisque, eros in dapibus porta, ipsum mi vehicula ligula, vitae tincidunt nibh velit non
                elit. Donec tincidunt malesuada diam id viverra. Mauris id facilisis urna, sed dignissim dui. Proin
                vulputate dictum purus ac aliquet. Cras auctor dolor at semper luctus. Nunc vitae consequat libero,
                at porta nisl. Interdum et malesuada fames ac ante ipsum primis in faucibus. Cras hendrerit magna
                volutpat dui rhoncus varius.</p>
        </div>
    </div>
    <!--<div class="col-md-60 align-items-center justify-content-center" style="align-items: center;">-->
    <div
        style="display:flex; justify-content: center; flex-direction: column; align-items:center; margin-right: auto; margin-left: auto;">
        {{#each postal}}
        {{#ifEquals this.filetype "image"}}
        <div class="card border-success mb-3" style="width: 30rem; padding: 1px; object-fit: contain;">
            <div class="card-header"
                style="font-family: 'Varela Round', sans-serif; font-size: x-large; text-align: center;">
                {{this.title}}</div>
            <div class="card-body">
                <h4 class="card-title" style="text-align: center; font-family: 'Architects Daughter', cursive;">By
                    {{this.author}}</h4>
                <img src={{this.url}} style="object-fit: contain; width: 100%; height: 15vw; margin-bottom: 10px;" />
                <p class="card-text" style="margin-top: 10px; text-align: center; font-family: 'Asap', sans-serif;">
                    {{this.description}}</p>
            </div>
        </div>
        {{else}}
        {{#ifEquals this.isHLSCoded false }}
        <div class="card border-success mb-3" style="width: 30rem; padding: 1px; object-fit: contain;">
            <div class="card-header"
                style="font-family: 'Varela Round', sans-serif; font-size: x-large; text-align: center;">
                {{this.title}}</div>
            <div class="card-body">
                <h4 class="card-title" style="text-align: center; font-family: 'Architects Daughter', cursive;">By
                    {{this.author}}</h4>
                <!--<video id="vids"-->
                <!--class="video" controls="true"-->
                <!--controls playsinline autoplay muted loop-->
                <!--preload="auto" type='video/{{this.extension}}; codecs="avc1.42E01E, mp4a.40.2"-->
                <!--style="object-fit: contain; width: 100%; height: 15vw; margin-bottom: 10px;" >-->
                <!--<source src={{this.url}} type="video/{{this.extension}}">
        </video>-->
                <video controls playsinline autoplay muted loop
                    style="object-fit: contain; width: 100%; height: 15vw; margin-bottom: 10px;">
                    <source type="video/{{this.extension}}" src={{this.url}}>
                </video>
                <p class="card-text" style="margin-top: 10px; text-align: center; font-family: 'Asap', sans-serif;">
                    {{this.description}}</p>
                <!--<video src={{this.url}} autoplay muted></video>-->
            </div>
        </div>
        {{else}}

        <!--<video id="vids"-->
        <!--class="video" controls="true"-->
        <!--controls playsinline autoplay muted loop-->
        <!--preload="auto" type='video/{{this.extension}}; codecs="avc1.42E01E, mp4a.40.2"-->
        <!--style="object-fit: contain; width: 100%; height: 15vw; margin-bottom: 10px;" >-->
        <!--<source src={{this.url}} type="video/{{this.extension}}">
        </video>-->
        <div class="card border-success mb-3" style="width: 30rem; padding: 1px; object-fit: contain;">
            <div class="card-header"
                style="font-family: 'Varela Round', sans-serif; font-size: x-large; text-align: center;">
                {{this.title}}</div>
            <div class="card-body" style="display: flex; flex-direction: column;">
                <h4 class="card-title" style="text-align: center; font-family: 'Architects Daughter', cursive;">By
                    {{this.author}}</h4>
                <video id={{this.id}} class="video-js vjs-default-skin" preload="none" crossorigin="true" controls
                    style="object-fit: contain; width: 100%; height: 15vw; margin-bottom: 10px;">
                    <!--class="video-js vjs-default-skin" preload="auto" crossorigin="true" controls width="640"
          height="268" controls-->
                </video>
                <!--<source type="application/x-mpegURL">-->

                <button type="button" class="btn btn-secondary" onclick="createIt('{{this.id}}', '{{this.url}}')"
                    style="margin-left: auto; margin-right: auto;">Play video</button>




                <!--<button id="thebuts" onclick="createIt('{{this.id}}', '{{this.url}}')">pinch me</button>-->
                <!--<video src={{this.url}} autoplay muted></video>-->
                <p class="card-text" style="margin-top: 10px; text-align: center; font-family: 'Asap', sans-serif;">
                    {{this.description}}</p>
            </div>
        </div>

        {{/ifEquals}}
        <!--<button type="button" onclick="playIt()" class="btn btn-primary">Primary</button>-->
        {{/ifEquals}}
        {{/each}}
    </div>
    <!--</div>-->

</div>